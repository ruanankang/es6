<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Axios</title>
  <script src="https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js"></script>
</head>

<body>
  <script type="text/javascript">
  // axios 支持 Promise 語法，get返回一个Promise对象
  const usersPromise = axios.get('https://api.github.com/users');

  let username;

  // 监听promise对象, then是 成功 的执行，catch是 错误 的执行
  usersPromise
    .then(response => {
      console.log(response);
      username = response.data[0].login;
      return axios.get(`https://api.github.com/users/${username}/repos`);
    })
    .then(response => {
      console.log(response.data)
    })
    .catch(err => {
    	console.error(err);
    })
  </script>
</body>

</html>